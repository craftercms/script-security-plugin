version: "~> 1.0"
git:
  depth: 1
  quiet: true
language: java
jdk:
  - openjdk17
branches:
  only:
    - develop
    - support/4.1.x
    - support/4.0.x
    - master
cache:
  directories:
    - "$HOME/.m2"
notifications:
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
before_install:
  - mkdir -p $HOME/.m2
  - cp .travis-settings.xml $HOME/.m2/settings.xml
install: skip
script:
  - if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c "mvn deploy --settings .travis-settings.xml"; fi
  - if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install"; fi
env:
  global:
    - secure: "hZmqp72+LKV0gTKg/mHkKrbI8Ei8fRHxV+Z6La1gox2Xepcd0L+EPeWJ8A2bfVjPWB7DEzygsWmYSvM8EtiwK113Fsowp4yleHuhWmYif6WmGLihuXKJXSZ/+dKEJOcd561U7OZ8ZkK24oDE8+622iwsDN2wXLUmxKfrmc6+QwoOYsFAkk6eVOH25DQPtIYgoDy/wxfSUYlu4b+4sey3iRJT2hxw9aAWdHxZ+hO38qQClm3GQxHsr5E8wDcB1gjybW2mcIyiHlK9aVzkVX0Jvf7uo2Fpp+tegu3oCyF9l8b7sFOgF9fbC9aW2p1e1ynv9dZ9IT/M89odz6QFZBnXz1q8OBeppdbQ6gOB2rBUhJrlO3VsYg3V+O0PvyglG+28RU7cBgoEBHWniRWPJ/2no8gNNhfBzhM+CqsKkSDDu8jW2or0LO83g+EV0loYyzzizfRsW9poyIxwP8ZzaoDRWV7hVBGq5iT/4nTywI9cGyLeGRGUoISZUspATe02X2TSKcohrKsOI43A+BXIpGJ1z2UdhcH1aa5Hr3jEu/33gySrGYWFTo3GnCwXFPS+gBvNoIp7KDOz3ukOTj/2IygZ2d3xGny1YXqHBjwDu44n2lDK8BkWZkmz4CJQbW7WbQhhXArurrahKFtKW7TUBNKqMxIoEdryjN4evlYU+/qp/yg="
    - secure: "GvI7+CNCJrHPDAios+Az5zZ7JK36A5Vgz1cIzE7CMzBe90ILihApy3MN4oP9nvKfurkOTz+XLmksEToNm35uUamAhAVV3sDKePkFCO2knk0FnbaYC5n4A0x0dNWh11L9Ndahqr0Ry3ux82qDoSVwTucXOmzkjfkkvoVDjye/mXfbvxSO+5BwIbeWlbKOSbo+AVkiCYyBqqXFVi3Ii+c9K3IwhK/IziwcuxTg8gF+MDmyTW/iLkxj1tG8hluJwdpRhsZE3lYqkNqNvj5zB98eeBjJiUWsnyeHaDBhbPoOjrjQM37d+Otx8x/peVFGttaYiT1SbMTsUBrhJZxkroP2l8/i7bplGXCEgiWDO0bjJc/9bBHCOGN/EwC4Mg6qzeCymA4YiYJcx6gME9oFnfbF2YJeS/+3MOoOCUAs3PNT8V6SV6FdgarKKMHwf3G5ENaxr81MPZBFf2E1qqSHzMW7x7skmwoHz+d86FwAVsCzA5eKXj9YXCE4AQUJRNZeqG6rqYrV2TyWK4a65FHvKYJhyREK1IGh/R4JhHUnlUcWS/butW38Hfps/5OhcqDCB9+GJg8AMNiiF+lNQQ+dyJNJFcBx+JcbM7eSJJnKxsH/6onCno0gZpPwoJWCL7ryzd1lkomftSUg/+O61sDz9wYdsRVaXDGIsZBf/VehINoTn/Q="
